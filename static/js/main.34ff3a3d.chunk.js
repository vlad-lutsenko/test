(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{13:function(e,t,a){e.exports={form:"InputForm_form__blOUZ",submitButton:"InputForm_submitButton__Rykt_"}},14:function(e,t,a){e.exports={Overlay:"Loader_Overlay__3ugmI",Modal:"Loader_Modal__2v-rt"}},23:function(e,t,a){e.exports={Overlay:"Modal_Overlay__gt5KT"}},4:function(e,t,a){e.exports={modal:"ImageExtended_modal__2gwEN",bigImg:"ImageExtended_bigImg__1medA",commentsList:"ImageExtended_commentsList__1kGkX",commentsListItem:"ImageExtended_commentsListItem__SoeHu",closeButton:"ImageExtended_closeButton__1D_7Z",name:"ImageExtended_name__Miire",description:"ImageExtended_description__2Tg9k"}},5:function(e,t,a){e.exports={wrapper:"ImageGallery_wrapper__3zGri",title:"ImageGallery_title__3NvGh",imagesGallery:"ImageGallery_imagesGallery__2zp2c",imageContainer:"ImageGallery_imageContainer__ASwxY",image:"ImageGallery_image__26jg0",footer:"ImageGallery_footer__2uhfK",footerText:"ImageGallery_footerText__3hzYV",noScroll:"ImageGallery_noScroll__O3v8D"}},54:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),s=a(11),r=a.n(s),i=a(6),o=a.n(i),l=a(9),m=a(3),d=a(7),j=a.n(d);j.a.defaults.baseURL="https://tzfrontend.herokuapp.com/";var u=function(e){return j.a.get("comments/".concat(e))},b=a(10),g=a(12),O=a(13),_=a.n(O),p=function(e){var t=e.imgId,a=e.imageComments,s=Object(c.useState)({image_id:t}),r=Object(m.a)(s,2),i=r[0],o=r[1],l=function(e){var t=e.target,a=t.name,n=t.value;o(Object(g.a)(Object(g.a)({},i),{},Object(b.a)({},a,n)))};return Object(n.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),t=i,j.a.post("comments/add/",t),a.push(i),e.target.reset()},className:_.a.form,children:[Object(n.jsx)("input",{type:"text",placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",name:"name",onChange:l,required:!0}),Object(n.jsx)("input",{type:"text",name:"description",onChange:l,placeholder:"\u0412\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",required:!0}),Object(n.jsx)("button",{className:_.a.submitButton,children:"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"})]})},x=a(4),f=a.n(x),h=function(e){var t=e.imageSrc,a=e.imageComments,s=e.closeModal,r=Object(c.useState)(""),i=Object(m.a)(r,2),o=i[0],l=i[1];return Object(n.jsxs)("div",{className:f.a.modal,children:[Object(n.jsxs)("div",{className:f.a.forMobilePositioning,children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:t,alt:"awesome",className:f.a.bigImg})}),Object(n.jsx)("div",{className:f.a.comments,children:Object(n.jsx)("ul",{className:f.a.commentsList,children:a.map((function(e){var t=e.description,a=e.id,c=e.name,s=e.image_id;return o!==s&&l(s),Object(n.jsxs)("li",{className:f.a.commentsListItem,children:[Object(n.jsx)("p",{className:f.a.name,children:c}),Object(n.jsx)("p",{className:f.a.description,children:t})]},a)}))})})]}),Object(n.jsxs)("div",{className:f.a.forMobilePositioning,children:[Object(n.jsx)(p,{imgId:o,imageComments:a}),Object(n.jsx)("button",{className:f.a.closeButton,onClick:s,children:"\u2716"})]})]})},v=a(23),I=a.n(v),y=function(e){var t=e.closeModal,a=e.children,s=function(e){"Escape"===e.key&&t()};return Object(c.useEffect)((function(){return window.addEventListener("keydown",s),function(){window.removeEventListener("keydown",s)}})),Object(n.jsx)("div",{className:I.a.Overlay,children:Object(n.jsx)(n.Fragment,{children:a})})},N=a(24),w=a.n(N),S=a(14),k=a.n(S),E={lines:13,length:20,width:10,radius:30,scale:1,corners:1,color:"#F0FFFF",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"},G=function(){return Object(n.jsx)("div",{className:k.a.Overlay,children:Object(n.jsx)("div",{className:k.a.Modal,children:Object(n.jsx)(w.a,{loaded:!1,options:E})})})},C=a(5),L=a.n(C),M=function(e){var t=e.images,a=Object(c.useState)(""),s=Object(m.a)(a,2),r=s[0],i=s[1],d=Object(c.useState)({}),b=Object(m.a)(d,2),g=b[0],O=b[1],_=Object(c.useState)(!1),p=Object(m.a)(_,2),x=p[0],f=p[1],v=Object(c.useState)(!1),I=Object(m.a)(v,2),N=I[0],w=I[1],S=function(){return f(!1)},k=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,c=t,j.a.get("images/".concat(c));case 3:return a=e.sent,i(a.data.src),e.next=7,u(t);case 7:n=e.sent,O(n.data),f(!0),w(!1);case 11:case"end":return e.stop()}var c}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[N&&Object(n.jsx)(G,{}),Object(n.jsxs)("div",{className:L.a.wrapper,children:[Object(n.jsx)("h1",{className:L.a.title,children:"test app"}),Object(n.jsx)("div",{className:L.a.imagesGallery,children:t.map((function(e){var t=e.image_id,a=e.src;return Object(n.jsx)("div",{className:L.a.imageContainer,onClick:function(){return k(t)},children:Object(n.jsx)("img",{src:a,alt:t,className:L.a.image})},t)}))}),x&&Object(n.jsx)(y,{closeModal:S,children:Object(n.jsx)(h,{imageSrc:r,imageComments:g,closeModal:S})}),Object(n.jsx)("footer",{className:L.a.footer,children:Object(n.jsx)("p",{className:L.a.footerText,children:"\xa9 2018-2019"})})]})]})},F=function(){var e=Object(c.useState)([]),t=Object(m.a)(e,2),a=t[0],s=t[1],r=Object(c.useState)(!0),i=Object(m.a)(r,2),d=i[0],u=i[1];return Object(c.useEffect)((function(){a.length||function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("images/");case 2:t=e.sent,s(t.data),u(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()})),Object(n.jsxs)("div",{className:L.a.app,children:[d&&Object(n.jsx)(G,{}),!!a.length&&!d&&Object(n.jsx)(M,{images:a})]})};r.a.render(Object(n.jsx)(F,{}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.34ff3a3d.chunk.js.map